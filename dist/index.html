<!doctype html>
<html lang="en" ng-app="AnnotatedTutorial">
  <head>
    <meta charset="UTF-8">
    <title>Annotated Tutorial</title>
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <link rel="stylesheet" href="css/main.css">
    <script src="scripts/modernizr.js"></script>
  </head>
  <body ng-controller="mainController">

    <div class="tutorial">
      <h1>Remove Red Eye</h1>
      <div class="content" ng-repeat="section in tutorial">

        <!-- Icons for notes -->
        <div class="icon-position">
          <button class="icon icon-details"
                  ng-if="section.notes.details.length > 0"
                  ng-click="$parent.showDetails = !showDetails">+</button>
          <button class="icon icon-corrections"
                  ng-if="section.notes.corrections.length > 0"
                  ng-click="$parent.showCorrections = !showCorrections">!</button>
          <button class="icon icon-methods"
                  ng-if="section.notes.methods.length > 0"
                  ng-click="$parent.showMethods = !showMethods">&#8618;</button>
          <button class="icon icon-command"
                  ng-if="section.notes.command.length > 0"
                  ng-click="$parent.showCommand = !showCommand">?</button>
        </div>

        <!-- Tutorial step -->
        <div ng-class="{'hoverLine': $parent.selectingLine,
              'selectedLine': $parent.selectedLine == $index}"
             ng-click="lineClicked($index)">
          {{section.content}}
        </div>

        <!-- Notes for step -->
        <div ng-show="showDetails">
          <div class="note note-details" ng-repeat="note in section.notes.details">{{note}}</div>
        </div>
        <div ng-show="showCorrections">
          <div class="note note-corrections" ng-repeat="note in section.notes.corrections">{{note}}</div>
        </div>
        <div ng-show="showMethods">
          <div class="note note-methods" ng-repeat="note in section.notes.methods">{{note}}</div>
        </div>
        <div ng-show="showCommand">
          <div class="note note-command" ng-repeat="note in section.notes.command">{{note}}</div>
        </div>
      </div>
    </div>

    <div class="input-container">
      <button ng-show="hideInput" ng-click="toggleHideInput()">Add a note (Show)</button>
      <div ng-hide="hideInput">
        <button ng-click="toggleHideInput()">Add a note (Hide)</button>
        <div>
          <button ng-click="toggleSelectMode()">Choose Location</button>
        </div>
        <div>
          <textarea ng-model="newNote"></textarea>
        </div>
        <div>
          <button ng-click="submitNote()">Submit Note</button>
        </div>
      </div>
    </div>

    <script src="scripts/dependencies.js"></script>

    <script src="scripts/templates.js"></script>

    <script src="scripts/app.js"></script>
  </body>
</html>